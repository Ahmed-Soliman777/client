<div class="px-4 sm:px-10 md:px-20 lg:px-40 mt-10">
    <!-- Header Section -->
    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-3">
        <h1 class="text-3xl font-bold text-gray-800">Manage Products</h1>
        <button mat-raised-button color="accent" routerLink="/admin/products/add">
            Add New Product
        </button>
    </div>

    <div class="bg-white shadow-lg rounded-xl p-4 md:p-6">
        <!-- Filter Field -->
        <mat-form-field class="w-full mb-4">
            <mat-label>Filter</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Search products..." #input>
        </mat-form-field>

        <!-- Responsive Table Wrapper -->
        <div class="overflow-x-auto rounded-lg border border-gray-200">
            <table mat-table [dataSource]="dataSource" matSort class="min-w-full text-sm text-gray-700">
                <!-- ID Column -->
                <ng-container matColumnDef="_id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="bg-gray-100 px-6 py-3 font-semibold text-gray-700 uppercase text-xs tracking-wide">ID
                    </th>
                    <td mat-cell *matCellDef="let row" class="px-6 py-3 border-t">{{ row._id }}</td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="bg-gray-100 px-6 py-3 font-semibold text-gray-700 uppercase text-xs tracking-wide">Name
                    </th>
                    <td mat-cell *matCellDef="let row" class="px-6 py-3 border-t">{{ row.name }}</td>
                </ng-container>

                <!-- Description Column -->
                <ng-container matColumnDef="shortDescription">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="bg-gray-100 px-6 py-3 font-semibold text-gray-700 uppercase text-xs">
                        Description</th>
                    <td mat-cell *matCellDef="let row" class="px-6 py-3 border-t">{{ row.shortDescription }}</td>
                </ng-container>

                <!-- Discount Column -->
                <ng-container matColumnDef="discount">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="bg-gray-100 px-6 py-3 font-semibold text-gray-700 uppercase text-xs tracking-wide">
                        Discount</th>
                    <td mat-cell *matCellDef="let row" class="px-6 py-3 border-t">{{ row.discount }}</td>
                </ng-container>

                <!-- Action Column -->
                <!-- <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-100 px-6 py-3 font-semibold text-gray-700 uppercase text-xs tracking-wide">Action</th>
          <td mat-cell *matCellDef="let row" class="px-6 py-3 border-t flex flex-wrap gap-2">
            <button mat-raised-button color="accent" [routerLink]="'/admin/products/' + row._id">Edit</button>
            <button
              mat-raised-button
              class="text-red-600 border border-red-300 hover:bg-red-50 transition"
              (click)="deleteItem(row._id)"
            >
              Delete
            </button>
          </td>
        </ng-container> -->

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="bg-gray-100 px-6 py-3 font-semibold text-gray-700 uppercase text-xs tracking-wide">
                        Actions
                    </th>

                    <td mat-cell *matCellDef="let row" class="px-6 py-3 border-t flex flex-wrap items-center ">
                        <!-- Edit Button -->
                        <button [routerLink]="'/admin/products/' + row._id"
                            class="flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md px-4 py-2 mt-2.5 text-sm font-medium transition-all shadow-sm active:scale-95 cursor-pointer my-1.5">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M11 17h2M12 12v.01M5.5 20.5l13-13M15.232 6.232a3 3 0 114.243 4.243L9.5 20.5H5.5v-4l9.732-9.768z" />
                            </svg>
                            <span class="hidden sm:inline">Edit</span>
                        </button>

                        <!-- Delete Button -->
                        <button (click)="deleteItem(row._id)"
                            class="flex items-center gap-2 border border-red-400 text-red-600 hover:bg-red-50 active:bg-red-100 rounded-md px-4 py-2 text-sm font-medium transition-all shadow-sm active:scale-95 cursor-pointer my-1.5">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 4h6m2 0h2M7 4H5m4-1h6a1 1 0 011 1v1H8V4a1 1 0 011-1z" />
                            </svg>
                            <span class="hidden sm:inline">Delete</span>
                        </button>
                    </td>
                </ng-container>


                <!-- Header & Rows -->
                <tr mat-header-row *matHeaderRowDef="displayedColumns" class="border-b"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover:bg-gray-50 transition"></tr>

                <!-- No Data Row -->
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell px-6 py-4 text-center text-gray-500" colspan="5">
                        No data matching the filter "{{ input.value }}"
                    </td>
                </tr>
            </table>
        </div>

        <!-- Pagination -->
        <div class="mt-4">
            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page size"></mat-paginator>
        </div>
    </div>
</div>