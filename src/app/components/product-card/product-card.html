<div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 flex flex-col">
    <!-- Product Image -->
    <div class="w-full h-64 overflow-hidden">
        <img class="w-full h-full object-cover hover:scale-105 transition-transform duration-300" [src]="item.images[0]"
            [alt]="item.name" />
    </div>

    <!-- Product Info -->
    <div class="p-4 flex flex-col justify-between flex-1">
        <div>
            <h3 class="text-lg font-semibold text-gray-800 hover:text-blue-600 transition-colors line-clamp-1 cursor-pointer"
                [routerLink]="'/product/' + item._id">
                {{ item.name }}
            </h3>

            <p class="text-sm text-gray-500 mt-1 line-clamp-1">{{ item.shortDescription }}</p>
        </div>

        <!-- Price Section -->
        <div class="mt-3 flex items-center justify-between">
            @if(item.discount){
            <span class="text-sm text-gray-400 line-through">${{ item.sellingPrice }}</span>
            <span class="text-sm text-blue-600">${{ discountPrice }}</span>
            <span class="text-sm text-green-600 font-semibold">{{ item.discount }}% Off</span>
            }
            @else{
            <span class="text-sm text-gray-400">${{ item.sellingPrice }}</span>
            }
        </div>

        <!-- Add to Cart Button -->
        <div class="flex gap-2 my-1 items-center">
            <!-- Cart button -->
            <button mat-fab aria-label="Add to cart" (click)="addToCard(item)" >
                @if(isProductInCart(item._id)){
                    <mat-icon>remove_shopping_cart</mat-icon>
                }
                @else{
                    <mat-icon>add_shopping_cart</mat-icon>
                }
            </button>

            <!-- Wishlist button -->
            <button mat-fab (click)="addToWishList(item)">
                @if(isInWishList(item)){
                <mat-icon class="transition-all duration-200">
                    favorite
                </mat-icon>
                }
                @else {
                <mat-icon class="transition-all duration-200">
                    favorite_border
                </mat-icon>
                }
            </button>
        </div>

    </div>
</div>