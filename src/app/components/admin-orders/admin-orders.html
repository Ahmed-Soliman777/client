<div class="min-h-screen bg-gray-50 py-10 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
        <!-- Page title -->

        <h1 class="text-3xl font-bold text-gray-800 mb-8">All Users Orders</h1>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Cart items section -->
            <div class="col-span-6 space-y-6">
                <!-- Single product card -->
                @for (item of orders; track $index) {
                @for(product of item.items; track $index){
                <div class=" bg-white shadow-md rounded-2xl p-4 sm:p-6">
                    <div class="flex justify-between">
                        <div class="">
                            <div class="shadow-sm p-2 rounded-2xl sm:w-full ">
                                Order Id : {{item._id}}
                            </div>
                            <div class="shadow-sm p-2 rounded-2xl sm:w-full mt-2.5">
                                User Id : {{item.userId}}
                            </div>
                        </div>
                        <div class="">
                            <mat-button-toggle-group name="status" [value]="item.status" aria-label="Font Style"
                                (change)="statusChanged($event, item)">
                                <mat-button-toggle value="Dispatched">Dispatched</mat-button-toggle>
                                <mat-button-toggle value="Shipped">Shipped</mat-button-toggle>
                                <mat-button-toggle value="Delivered">Delivered</mat-button-toggle>
                            </mat-button-toggle-group>

                        </div>
                    </div>
                    <div class="flex flex-col sm:flex-row items-center mt-2.5">
                        <img [src]="product.product.images[0]" [alt]="product.product.name"
                            class="w-28 h-28 object-cover rounded-xl">

                        <div class="flex-1 sm:ml-6 mt-4 sm:mt-0 w-full">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800">{{product.product.name}}</h3>
                                </div>
                            </div>
                            <div class="text-blue-600">
                                @if(product.product.discount){
                                {{product.product.discount}}% discount
                                }
                            </div>
                            <div class="flex justify-between items-center mt-4">
                                <div class="flex items-center justify-between space-x-2 w-full">
                                    <span class="font-medium">Quantity : {{product.quantity}}</span>
                                    @if(product.product.discount){
                                    <div class="">
                                        <p class="text-lg font-semibold text-blue-500">{{(product.product.sellingPrice -
                                            ((product.product.sellingPrice * product.product.discount) / 100)) *
                                            product.quantity | currency}}</p>
                                        <p class="text-lg font-semibold text-gray-700 line-through ">
                                            {{product.product.sellingPrice * product.quantity|
                                            currency}}</p>
                                    </div>
                                    }
                                    @else{
                                    <p class="text-lg font-semibold text-gray-700">{{product.product.sellingPrice|
                                        currency}}</p>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                }
                }

            </div>
        </div>
    </div>